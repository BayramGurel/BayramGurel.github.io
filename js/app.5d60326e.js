(function(){"use strict";var e={4097:function(e,t,a){var n=a(9963),i=a(6252);function o(e,t,a,n,o,s){const r=(0,i.up)("SamenMetenDashboard");return(0,i.wg)(),(0,i.j4)(r)}var s=a(3577);const r=e=>((0,i.dD)("data-v-488711f3"),e=e(),(0,i.Cn)(),e),l={id:"map",class:"position-absolute w-100 h-100"},d={class:"position-absolute start-neg btn btn-light btn-lg d-flex align-items-center justify-content-center sidebar-toggle"},c={id:"sidebar-content",class:"rounded bg-white shadow p-1 py-2 h-100 overflow-auto",style:{"max-height":"97vh"}},p={class:"container"},u={class:"row"},m=r((()=>(0,i._)("div",{class:"col-12"},[(0,i._)("h3",null,"Informatie over de stations")],-1))),h={class:"col-12"},g={class:"text-primary"},b={class:"col-12 table-responsive overflow-auto",style:{"max-height":"33vh"}},v={class:"table table-bordered"},y=r((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{scope:"col"},"Station"),(0,i._)("th",{scope:"col"},"Gemiddelde"),(0,i._)("th",{scope:"col"},"maximum"),(0,i._)("th",{scope:"col"},"Minimaal")])],-1))),w={class:"table-group-divider"},f={scope:"row"},k=r((()=>(0,i._)("div",{class:"col-12"},[(0,i._)("p",{class:"py-3"},"Laatst gemeten uren waardes op een dag")],-1))),_={class:"col-12 pt-3"},C={class:"property text-primary"},j=["innerHTML"],D=(0,i.uE)('<div class="col-12" data-v-488711f3><h5 class="pt-4" data-v-488711f3><a href="https://samenmeten.rivm.nl/dataportaal/" target="_blank" class="link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover" data-v-488711f3>Bekijk dit filmpje voor meer informatie:</a></h5><h6 data-v-488711f3><a href="https://www.samenmeten.nl/zelf-meten/hoe-kan-ik-zelf-luchtkwaliteit-meten" target="_blank" class="link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover" data-v-488711f3>Hoe kan ik zelf luchtkwaliteit meten<i class="bi bi-question-lg" data-v-488711f3></i></a></h6><div class="embed-responsive embed-responsive-16by9" data-v-488711f3><video controls="" class="embed-responsive-item w-100" data-v-488711f3><source src="https://www.rovid.nl/rivm/aco/2017/rivm-aco-20171017-id2nv5d79-web-hd.mp4" type="video/mp4" data-v-488711f3> Your browser does not support HTML5 video. </video></div></div>',1),L={class:"container-fluid"},x={class:"position-absolute start-0 shadow mt-3 ms-3 col-md-4 col-6",style:{"max-height":"97%","overflow-y":"auto","overflow-x":"hidden","z-index":"1"}},S={class:"container bg-white rounded pb-3"},A={class:"row"},z={class:"col-12"},M=["src"],I=r((()=>(0,i._)("h4",{class:"text-center"},"Provincie Zuid Holland - Luchtkwaliteit dashboard",-1))),P={class:"row px-3"},Y={class:"col-12"},G={for:"timeSlider"},O={class:"row pt-2 px-3"},T={class:"col"},F={class:"form-floating mb-2 focused-label"},B=r((()=>(0,i._)("label",{for:"floatingInput"},"Selecteer een dag",-1))),H={id:"dayNames"},E=["value"],N={class:"col text-center"},U={key:0,class:"bi bi-pause-circle-fill"},V={key:1,class:"bi bi-google-play"},R={class:"row"},W={class:"col pt-2"},J=["innerHTML"],Z={class:"bg-white rounded p-2 my-2"},Q=r((()=>(0,i._)("nav",null,[(0,i._)("div",{class:"nav nav-tabs",role:"tablist"},[(0,i._)("button",{class:"nav-link active",id:"nav-leganda-tab","data-bs-toggle":"tab","data-bs-target":"#nav-leganda",type:"button",role:"tab","aria-controls":"nav-leganda","aria-selected":"true"},"Legenda voor Luchtkwaliteit "),(0,i._)("button",{class:"nav-link",id:"nav-wms-tab","data-bs-toggle":"tab","data-bs-target":"#nav-wms",type:"button",role:"tab","aria-controls":"nav-wms","aria-selected":"false"},"IDW interpolatie")])],-1))),X={class:"tab-content"},q={class:"tab-pane fade show active",id:"nav-leganda",role:"tabpanel","aria-labelledby":"nav-leganda-tab",tabindex:"0"},K=r((()=>(0,i._)("h3",{class:"my-2 text-center"},[(0,i.Uk)("Legenda | Filter "),(0,i._)("i",{class:"bi bi-funnel text-primary"})],-1))),$={class:"col-md-11 mx-auto"},ee=r((()=>(0,i._)("option",{value:"no2"},"SensorData - Stikstofdioxide | N02",-1))),te=r((()=>(0,i._)("option",{value:"pm10"},"SensorData - Fijnstof 10microm | PM10",-1))),ae=r((()=>(0,i._)("option",{selected:"",value:"pm25"},"SensorData - Fijnstof 2.5 microm | PM2,5",-1))),ne=[ee,te,ae],ie={class:"text-center"},oe={class:"row px-2 text-center text-light"},se={class:"Legenda"},re={class:"row pt-1"},le={class:"col"},de={class:"text-muted"},ce={class:"col text-end"},pe={class:"text-muted"},ue={class:"tab-pane fade",id:"nav-wms",role:"tabpanel","aria-labelledby":"nav-wms-tab",tabindex:"0"},me={class:"row p-2"},he={class:"col text-center"},ge=r((()=>(0,i._)("h3",{class:"pb-2 text-primary border-bottom border-primary"},"IDW interpolatie",-1))),be={class:"row my-3"},ve=r((()=>(0,i._)("div",{class:"col-10 text-start"},[(0,i.Uk)(" De ‘IDW Interpolatie’ is een krachtige functie die luchtkwaliteitswaarden op ongemeten locaties voorspelt, waarbij meetpunten in de nabijheid een grotere invloed hebben. Met de ‘Verbergen’ en ‘Weergeven op kaart’ opties kunt u de zichtbaarheid van deze voorspelde waarden op de kaart beheren."),(0,i._)("br"),(0,i._)("br"),(0,i.Uk)("Houd er rekening mee dat er bij het eerste gebruik een kleine vertraging kan optreden, maar bij latere toepassingen wordt de interpolatie vloeiend weergegeven. De nauwkeurigheid van de voorspellingen is afhankelijk van de kwaliteit en spreiding van de meetpunten. ")],-1))),ye={class:"col"},we=["src"],fe={class:"btn-group btn-group-sm mt-2",role:"group","aria-label":"Basic radio toggle button group"},ke=r((()=>(0,i._)("label",{class:"btn btn-outline-danger",for:"disable"},"Verbergen",-1))),_e=r((()=>(0,i._)("label",{class:"btn btn-outline-primary",for:"activate"},"Weergeven op kaart",-1))),Ce={class:"bg-white rounded p-2"},je=r((()=>(0,i._)("nav",null,[(0,i._)("div",{class:"nav nav-tabs",role:"tablist"},[(0,i._)("button",{class:"nav-link active",id:"nav-filter-tab","data-bs-toggle":"tab","data-bs-target":"#nav-filter",type:"button",role:"tab","aria-controls":"nav-filter","aria-selected":"true"},"Gegevens filteren"),(0,i._)("button",{class:"nav-link",id:"nav-bestanden-tab","data-bs-toggle":"tab","data-bs-target":"#nav-bestanden",type:"button",role:"tab","aria-controls":"nav-bestanden","aria-selected":"false"},"Bestandenbeheer"),(0,i._)("button",{class:"nav-link",id:"nav-contact-tab","data-bs-toggle":"tab","data-bs-target":"#nav-contact",type:"button",role:"tab","aria-controls":"nav-contact","aria-selected":"false"},"Contactgegevens")])],-1))),De={class:"tab-content"},Le={class:"tab-pane fade show active",id:"nav-filter",role:"tabpanel","aria-labelledby":"nav-filter-tab",tabindex:"0"},xe=r((()=>(0,i._)("h3",{class:"py-2 text-center text-secondary-emphasis border-bottom border-secondary-subtle"},"Filteren van stations",-1))),Se={class:"row p-2"},Ae={class:"accordion accordion-flush",id:"accordionExample"},ze={class:"accordion-item"},Me=r((()=>(0,i._)("h2",{class:"accordion-header",id:"headingOne"},[(0,i._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}," Selecteer een Regio ")],-1))),Ie={id:"collapseOne",class:"accordion-collapse collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},Pe={class:"accordion-body",style:{"max-height":"200px","overflow-y":"auto"}},Ye=["id","value","onUpdate:modelValue"],Ge=["for"],Oe={class:"accordion-item"},Te=r((()=>(0,i._)("h2",{class:"accordion-header",id:"headingTwo"},[(0,i._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"}," Selecteer een Gemeente ")],-1))),Fe={id:"collapseTwo",class:"accordion-collapse collapse","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample"},Be={class:"accordion-body",style:{"max-height":"200px","overflow-y":"auto"}},He=["id","value","onUpdate:modelValue"],Ee=["for"],Ne={class:"accordion-item"},Ue=r((()=>(0,i._)("h2",{class:"accordion-header",id:"headingThree"},[(0,i._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree"}," Selecteer een Station ")],-1))),Ve={id:"collapseThree",class:"accordion-collapse collapse","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},Re={class:"accordion-body",style:{"max-height":"200px","overflow-y":"auto"}},We={class:"form-floating mb-2 focused-label"},Je=r((()=>(0,i._)("label",{for:"floatingInput"},"Zoeken naar een station",-1))),Ze={id:"stations"},Qe=["value"],Xe=["id","value","onUpdate:modelValue"],qe=["for"],Ke={class:"tab-pane fade",id:"nav-bestanden",role:"tabpanel","aria-labelledby":"nav-bestanden-tab",tabindex:"0"},$e={class:"row p-2"},et={class:"col text-center"},tt=r((()=>(0,i._)("h3",{class:"pb-2 text-primary border-bottom border-primary"},"Bestandenbeheer",-1))),at=r((()=>(0,i._)("h5",{class:"fw-semibold"},"Dashboardgegevens via GeoJSON en CSV",-1))),nt={class:"row my-4"},it={class:"col-4 border-end border-primary-subtle"},ot={class:"custom-container"},st=["src"],rt=r((()=>(0,i._)("div",{class:"text-light text-center position-absolute top-50 start-50 translate-middle"},[(0,i._)("h5",null,"Gegevens downloaden van CSV en GeoJSON.")],-1))),lt=[rt],dt={class:"col text-start"},ct=r((()=>(0,i._)("p",null,"Bij het uploaden van een GeoJSON-bestand faciliteert het dashboard een platform voor de visualisatie van de ingesloten gegevens. Deze bestanden bevatten cruciale informatie die nodig is voor gedetailleerde analyse en visualisatie. Het dashboard fungeert als een effectief instrument voor het interpreteren en begrijpen van deze gegevens.",-1))),pt={class:"input-group"},ut=r((()=>(0,i._)("i",{class:"bi bi-x-lg"},null,-1))),mt=[ut],ht=r((()=>(0,i._)("small",{class:"text-primary"},"Voor het downloaden van de bestanden, wordt u verzocht om op de desbetreffende afbeelding te klikken.",-1))),gt=r((()=>(0,i._)("div",{class:"tab-pane fade",id:"nav-contact",role:"tabpanel","aria-labelledby":"nav-contact-tab",tabindex:"0"},[(0,i._)("div",{class:"row p-2"},[(0,i._)("div",{class:"card"},[(0,i._)("div",{class:"card-body"},[(0,i._)("h3",{class:"card-title text-success text-center border-bottom border-success pb-2"},"Contactgegevens"),(0,i._)("h6",{class:"card-subtitle my-2 text-muted"},[(0,i.Uk)("Team Geo | "),(0,i._)("span",{class:"text-success"},"teamgeo@pzh.nl")]),(0,i._)("p",{class:"card-text"},[(0,i.Uk)(" Postadres Provincie Zuid-Holland Contact Centrum"),(0,i._)("br"),(0,i.Uk)("Postbus 90602 - 2509 LP Den Haag"),(0,i._)("br"),(0,i.Uk)(" Telefonische bereikbaarheid Tijdens kantooruren (08:30 - 17:00 uur):"),(0,i._)("br"),(0,i.Uk)("070 441 6611"),(0,i._)("br"),(0,i._)("br"),(0,i.Uk)(" Ondersteuning Voor technische ondersteuning of feedback over de applicatie, neem contact op via: teamgeo@pzh.nl ")])])])])],-1))),bt={class:"modal fade",id:"modalWithBothOptions",tabindex:"-1","aria-labelledby":"modalWithBothOptionsLabel","aria-hidden":"true"},vt={class:"modal-dialog modal-xl"},yt={class:"modal-content"},wt={class:"modal-header"},ft={class:"modal-title text-center",id:"modalWithBothOptionsLabel"},kt=["textContent"],_t=r((()=>(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))),Ct={class:"modal-body"},jt={class:"card-body"},Dt={class:"text-muted"},Lt=r((()=>(0,i._)("br",null,null,-1))),xt=r((()=>(0,i._)("br",null,null,-1))),St={class:"text-center pt-4"},At={class:"d-flex justify-content-center overflow-auto"},zt={ref:"myChart"},Mt={class:"toast-container position-fixed bottom-0 end-0 p-3",style:{"z-index":"9999"}},It={ref:"liveToast",class:"toast align-items-center text-white bg-primary border-0",role:"alert","aria-live":"assertive","aria-atomic":"true"},Pt={class:"d-flex"},Yt={class:"toast-body"},Gt=r((()=>(0,i._)("i",{class:"bi bi-patch-check me-2"},null,-1))),Ot={class:"d-block mt-1"},Tt=r((()=>(0,i._)("button",{type:"button",class:"btn-close btn-close-white me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"},null,-1)));function Ft(e,t,o,r,ee,te){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",l,[(0,i._)("div",{id:"sidebar",class:(0,s.C_)([{collapsed:e.isCollapsed},"d-flex align-items-center justify-content-center position-absolute end-0 col-10 col-lg-6"]),onClick:t[0]||(t[0]=(...e)=>te.toggleSidebar&&te.toggleSidebar(...e)),style:{"z-index":"2"}},[(0,i._)("div",d,[(0,i._)("h4",null,(0,s.zw)(e.isCollapsed?"←":"→"),1)]),(0,i._)("div",c,[(0,i._)("div",p,[(0,i._)("div",u,[m,(0,i._)("div",h,[(0,i._)("h6",null,[(0,i.Uk)("Laatst gemeten uren waarde van "),(0,i._)("b",g,"concentration "+(0,s.zw)(te.formattedProperty)+" nk (µg/m³)",1),(0,i.Uk)(" van vandaag.")])]),(0,i._)("div",b,[(0,i._)("table",v,[y,(0,i._)("tbody",w,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.geojson.features,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.properties.station_name},[(0,i._)("th",f,(0,s.zw)(e.properties.station_name),1),(0,i._)("td",null,(0,s.zw)(e.properties.avg_value),1),(0,i._)("td",null,(0,s.zw)(e.properties.max_value),1),(0,i._)("td",null,(0,s.zw)(e.properties.min_value),1)])))),128))])])]),k,(0,i._)("div",_,[(0,i._)("h3",null,[(0,i.Uk)("Beschrijving van fijnstof | "),(0,i._)("span",C,(0,s.zw)(te.formattedProperty),1)]),(0,i._)("h6",{class:"description overflow-auto",innerHTML:e.description,style:{"max-height":"33vh"}},null,8,j)]),D])])])],2)]),(0,i._)("div",L,[(0,i._)("div",x,[(0,i._)("div",S,[(0,i._)("div",A,[(0,i._)("div",z,[(0,i._)("img",{src:a(1244),class:"img-fluid rounded mx-auto d-block",title:"Refresh website",onClick:t[1]||(t[1]=(...e)=>te.reloadPage&&te.reloadPage(...e)),style:{"min-width":"211px","min-height":"70px"}},null,8,M),I])]),(0,i._)("div",P,[(0,i._)("div",Y,[(0,i._)("label",G,"Geselecteerd uur: "+(0,s.zw)(e.timeValue)+":00",1),(0,i.wy)((0,i._)("input",{id:"timeSlider",ref:"timeSlider",class:"form-control-range w-100",type:"range",min:"0",max:"23",step:"1","onUpdate:modelValue":t[2]||(t[2]=t=>e.timeValue=t),onChange:t[3]||(t[3]=(...e)=>te.updateLayer&&te.updateLayer(...e)),onMousedown:t[4]||(t[4]=(...e)=>te.stopSlider&&te.stopSlider(...e))},null,544),[[n.nr,e.timeValue]])])]),(0,i._)("div",O,[(0,i._)("div",T,[(0,i._)("div",F,[(0,i.wy)((0,i._)("input",{type:"text",list:"dayNames","onUpdate:modelValue":t[5]||(t[5]=t=>e.selectedDay=t),class:"form-control text-primary rounded shadow-sm",onInput:t[6]||(t[6]=(...e)=>te.updateLayer&&te.updateLayer(...e)),onClick:t[7]||(t[7]=e=>te.clearInput("sDate")),id:"floatingInput",placeholder:" ",ref:"sDate"},null,544),[[n.nr,e.selectedDay]]),B]),(0,i._)("datalist",H,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(te.dayNames,((e,t)=>((0,i.wg)(),(0,i.iD)("option",{value:e,key:t},(0,s.zw)(e),9,E)))),128))])]),(0,i._)("div",N,[(0,i._)("button",{id:"playSlider",type:"button",class:(0,s.C_)(["col-10 btn py-2",te.buttonClass]),onClick:t[8]||(t[8]=(...e)=>te.toggleSlider&&te.toggleSlider(...e))},[e.isPlaying?((0,i.wg)(),(0,i.iD)("i",U)):((0,i.wg)(),(0,i.iD)("i",V)),(0,i.Uk)(" "+(0,s.zw)(e.isPlaying?"Pauzeren":"Afspelen"),1)],2)])]),(0,i._)("div",R,[(0,i._)("div",W,[(0,i._)("span",{class:"mb-0",innerHTML:e.isFrom},null,8,J)])])]),(0,i._)("div",Z,[Q,(0,i._)("div",X,[(0,i._)("div",q,[K,(0,i._)("div",$,[(0,i._)("select",{ref:"property",class:"btn btn-outline-primary form-select form-select-sm mb-3 text-primary rounded-2 shadow-sm",onInput:t[9]||(t[9]=(...e)=>te.updateLayer&&te.updateLayer(...e)),style:{background:"white !important"}},ne,544)]),(0,i._)("p",ie,"Concentratie "+(0,s.zw)(te.formattedProperty)+" nk (µg/m³)",1),(0,i._)("div",oe,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.legendaValues,((t,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"col",key:a},[(0,i._)("div",{class:"rounded",style:(0,s.j5)({backgroundColor:e.colors[a]})},[(0,i._)("span",se,(0,s.zw)(t),1)],4)])))),128))]),(0,i._)("div",re,[(0,i._)("h6",le,[(0,i._)("small",de,(0,s.zw)(e.concentrationValues[0])+" Lage concentratie",1)]),(0,i._)("h6",ce,[(0,i._)("small",pe,"Hoge concentratie "+(0,s.zw)(e.concentrationValues[1]),1)])])]),(0,i._)("div",ue,[(0,i._)("div",me,[(0,i._)("div",he,[ge,(0,i._)("div",be,[ve,(0,i._)("div",ye,[(0,i._)("img",{src:a(2747),class:"img-fluid rounded w-auto h-75"},null,8,we)]),(0,i._)("div",fe,[(0,i.wy)((0,i._)("input",{type:"radio",class:"btn-check",name:"btnradio",value:"disable",id:"disable",autocomplete:"off","onUpdate:modelValue":t[10]||(t[10]=t=>e.interpolationStatus=t),onChange:t[11]||(t[11]=(...e)=>te.updateLayer&&te.updateLayer(...e))},null,544),[[n.G2,e.interpolationStatus]]),ke,(0,i.wy)((0,i._)("input",{type:"radio",class:"btn-check",name:"btnradio",value:"activate",id:"activate",autocomplete:"off","onUpdate:modelValue":t[12]||(t[12]=t=>e.interpolationStatus=t),onChange:t[13]||(t[13]=(...e)=>te.updateLayer&&te.updateLayer(...e))},null,544),[[n.G2,e.interpolationStatus]]),_e])])])])])])]),(0,i._)("div",Ce,[je,(0,i._)("div",De,[(0,i._)("div",Le,[xe,(0,i._)("div",Se,[(0,i._)("div",Ae,[(0,i._)("div",ze,[Me,(0,i._)("div",Ie,[(0,i._)("div",Pe,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.regio,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id,class:"form-check"},[(0,i.wy)((0,i._)("input",{type:"checkbox",id:e.id,value:e.id,name:"regio","onUpdate:modelValue":t=>e.checked=t,onInput:t[14]||(t[14]=(...e)=>te.updateLayer&&te.updateLayer(...e)),class:"form-check-input"},null,40,Ye),[[n.e8,e.checked]]),(0,i._)("label",{for:e.id,class:"form-check-label"},(0,s.zw)(e.label),9,Ge)])))),128))])])]),(0,i._)("div",Oe,[Te,(0,i._)("div",Fe,[(0,i._)("div",Be,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.Gemeente,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id,class:"form-check"},[(0,i.wy)((0,i._)("input",{type:"checkbox",id:e.id,value:e.id,name:"Gemeente","onUpdate:modelValue":t=>e.checked=t,onInput:t[15]||(t[15]=(...e)=>te.updateLayer&&te.updateLayer(...e)),class:"form-check-input"},null,40,He),[[n.e8,e.checked]]),(0,i._)("label",{for:e.id,class:"form-check-label"},(0,s.zw)(e.label),9,Ee)])))),128))])])]),(0,i._)("div",Ne,[Ue,(0,i._)("div",Ve,[(0,i._)("div",Re,[(0,i._)("div",We,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=t=>e.search=t),ref:"searchInput",class:"form-control text-primary rounded shadow-sm",onInput:t[17]||(t[17]=(...e)=>te.selectMatchingStations&&te.selectMatchingStations(...e)),list:"stations",id:"floatingInput",placeholder:" "},null,544),[[n.nr,e.search]]),Je]),(0,i._)("datalist",Ze,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.station_name,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e.id,value:e.label},null,8,Qe)))),128))]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.station_name,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id,class:"form-check"},[(0,i.wy)((0,i._)("input",{type:"checkbox",id:e.id,value:e.id,name:"station_name","onUpdate:modelValue":t=>e.checked=t,onInput:t[18]||(t[18]=(...e)=>te.updateLayer&&te.updateLayer(...e)),class:"form-check-input"},null,40,Xe),[[n.e8,e.checked]]),(0,i._)("label",{for:e.id,class:"form-check-label"},(0,s.zw)(e.label),9,qe)])))),128))])])])])])]),(0,i._)("div",Ke,[(0,i._)("div",$e,[(0,i._)("div",et,[tt,at,(0,i._)("div",nt,[(0,i._)("div",it,[(0,i._)("div",ot,[(0,i._)("img",{src:a(3865),class:"img-fluid rounded custom-image"},null,8,st),(0,i._)("div",{class:"custom-overlay rounded",onClick:t[19]||(t[19]=(...e)=>te.handleClick&&te.handleClick(...e))},lt)])]),(0,i._)("div",dt,[ct,(0,i._)("div",pt,[(0,i._)("input",{type:"file",class:"form-control text-primary rounded shadow-sm",id:"inputGroupFile04","aria-describedby":"inputGroupFileAddon04","aria-label":"Upload",ref:"localFile",onInput:t[20]||(t[20]=(...e)=>te.updateLayer&&te.updateLayer(...e))},null,544),(0,i._)("button",{class:"btn btn-outline-danger",type:"button",onClick:t[21]||(t[21]=e=>te.clearInput("localFile"))},mt)]),ht])])])])]),gt])])]),(0,i._)("div",bt,[(0,i._)("div",vt,[(0,i._)("div",yt,[(0,i._)("div",wt,[(0,i._)("h5",ft,[(0,i.Uk)("Informatie over de station: "),(0,i._)("span",{textContent:(0,s.zw)(e.properties.station_name)},null,8,kt)]),_t]),(0,i._)("div",Ct,[(0,i._)("div",jt,[(0,i._)("p",Dt,[(0,i.Uk)(" Het station bevindt zich in de gemeente "+(0,s.zw)(e.properties.Gemeente)+".",1),Lt,(0,i.Uk)(" De fijnstofwaarde "+(0,s.zw)(te.formattedProperty)+" is gemeten op dit station, dat zich in de regio "+(0,s.zw)(e.properties.regio)+" bevindt.",1),xt]),(0,i._)("h6",St,"Grafische representatie van "+(0,s.zw)(e.properties.station_name),1),(0,i._)("div",At,[(0,i._)("canvas",zt,null,512)])])])])])]),(0,i._)("div",Mt,[(0,i._)("div",It,[(0,i._)("div",Pt,[(0,i._)("div",Yt,[Gt,(0,i.Uk)(" De bestanden zijn gedownload. "),(0,i._)("small",Ot,(0,s.zw)(e.timeString),1)]),Tt])],512)])])],64)}a(8858),a(1318),a(3228);const Bt={API_KEY:"FbKICYxfhm1aP5pa4olH",STYLE_URL:"",map:null,STYLE_URLS:["https://api.maptiler.com/maps/outdoor/style.json?key=","https://api.maptiler.com/maps/basic-v2-light/style.json?key=","https://api.maptiler.com/maps/basic-v2-dark/style.json?key=","https://api.maptiler.com/maps/streets-v2-pastel/style.json?key=","https://api.maptiler.com/maps/streets-v2-dark/style.json?key=","https://api.maptiler.com/maps/dataviz/style.json?key=","https://api.maptiler.com/maps/topo-v2-dark/style.json?key=","https://api.maptiler.com/maps/hybrid/style.json?key="],STYLE_NAMES:["Outdoor","Basic Light","Basic Dark","Streets Pastel","Street Dark","Dataviz","Topo Dark","Satellite Hybrid"],ids:["timeSlider","sDate","property","regio","Gemeente","station_name","localFile"],elements:{},geojson:"",search:"",timeString:"",timeValue:(new Date).getHours(),interval:null,days:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],selectedDay:"",isCollapsed:!0,interpolationStatus:"disable",isPlaying:!1,isLocalFile:!1,isFrom:"",rasterLayers:new Set,property:null,description:null,legendaValues:null,properties:{property:"",station_name:"",Gemeente:"",regio:""},regio:null,Gemeente:null,station_name:null,regioItems:[],selectedRegioItems:[],gemeenteItems:[],selectedGemeenteItems:[],stationItems:[],selectedStationItems:[],concentrationValues:[],currentLayerId:null,colors:["#1E90FF","#48D1CC","#9ACD32","#DAA520"],dayColors:["rgba(230, 25, 75, 0.5)","rgba(245, 130, 48, 0.5)","rgba(255, 225, 25, 0.5)","rgba(60, 180, 75, 0.5)","rgba(0, 130, 200, 0.5)","rgba(145, 30, 180, 0.5)","rgba(70, 240, 240, 0.5)"],myChart:"",isChartLoading:!1,delayed:!1,chartOptions:{responsive:!0,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Concentration in (µg/m³)"}},x:{title:{display:!0,text:"Tijd (uren)"}}},animation:{duration:1e3},plugins:{tooltip:{enabled:!0,mode:"index",intersect:!1,callbacks:{beforeBody:function(e){if(e.length>0&&e[0].parsed.y>27.5)return"Waarschuwing: De waarde overschrijdt de limiet!"}}}},interaction:{mode:"nearest",intersect:!0}},propValues:{pm25:{property:"pm25",description:"PM2.5 staat voor fijnstofdeeltjes in de lucht met een diameter kleiner dan 2,5 micrometer. Deze minuscule deeltjes zijn in staat om diep in de longen te doordringen, wat potentieel schadelijk is voor de gezondheid.<br><br>De concentratie van PM2.5 varieert dagelijks en is in stedelijke gebieden vaak hoger overdag, voornamelijk door emissies van het verkeer. De wettelijke norm voor PM2.5 is een jaargemiddelde van 25 microgram per kubieke meter (μg/m³). Het overschrijden van deze norm kan leiden tot gezondheidsproblemen.<br><br>De meetapparatuur voor PM2.5 is gevoelig voor condensvorming, wat vaker voorkomt bij hoge buitentemperaturen. Metingen kunnen automatisch worden afgekeurd als er condensvorming wordt verwacht. Deze metingen kunnen echter later alsnog worden goedgekeurd na controle door de meetnetbeheerder, wat bijdraagt aan de nauwkeurigheid en betrouwbaarheid van de verzamelde gegevens.<br><br>Het is belangrijk om te benadrukken dat ondanks de uitdagingen in het meten van PM2.5, de verzamelde gegevens cruciaal zijn voor het monitoren van de luchtkwaliteit en het nemen van passende maatregelen om de volksgezondheid te beschermen.",legendaValues:["0 - 8,3","8,3 - 16,7","16,7 - 25","25+"],concentrationValues:["0 - 25,5 |","| 25+"]},pm10:{property:"pm10",description:"PM10 staat voor luchtdeeltjes kleiner dan 10 micrometer. Deze deeltjes kunnen worden ingeademd en kunnen gezondheidsproblemen veroorzaken. De concentratie van PM10 varieert dagelijks, voornamelijk door weersomstandigheden en verkeer. In stedelijke gebieden zijn de concentraties overdag vaak hoger dan 's nachts.<br><br>De wettelijke norm voor PM10 is een jaargemiddelde van 40 μg/m³, met maximaal 35 dagen per jaar boven 50 μg/m³. Het overschrijden van deze normen kan leiden tot gezondheidsrisico’s.<br><br>Meetapparatuur voor PM10 is gevoelig voor condensvorming, vooral bij hoge buitentemperaturen. Metingen kunnen automatisch worden afgekeurd als er condensvorming wordt verwacht. Echter, deze metingen kunnen later alsnog worden goedgekeurd na controle door de meetnetbeheerder. Dit zorgt voor de nauwkeurigheid van de verzamelde gegevens, die cruciaal zijn voor het monitoren van de luchtkwaliteit en het beschermen van de volksgezondheid.<br><br>Het is belangrijk om te benadrukken dat ondanks de uitdagingen in het meten van PM10, de verzamelde gegevens essentieel zijn voor het monitoren van de luchtkwaliteit en het nemen van passende maatregelen om de volksgezondheid te beschermen. Het is daarom van essentieel belang om de concentraties van PM10 continu te monitoren en te beheren.",legendaValues:["0 - 13,3","13,3 - 26,7","26,7 - 40","40+"],concentrationValues:["0 - 40 |","| 40+"]},default:{property:"no2",description:"Stikstofdioxide (NO₂) is een gas dat voornamelijk wordt geproduceerd door verbrandingsprocessen, zoals wegverkeer, energieproductie en industrie. Het is een belangrijke indicator voor luchtvervuiling, vooral in stedelijke gebieden.<br><br>De concentraties van NO₂ zijn het hoogst tijdens de ochtend- en avondspits, wanneer het verkeer het drukst is. Daarnaast kan NO₂ ook ontstaan uit een chemische reactie tussen stikstofmonoxide (NO) en ozon (O₃) in de atmosfeer.<br><br>Het weer en de verkeersdrukte hebben een grote invloed op de concentratie van NO₂. Bijvoorbeeld, wind kan helpen om het gas te verspreiden en te verdunnen, terwijl hoge temperaturen en zonlicht de chemische reacties kunnen versnellen die NO₂ produceren.<br><br>De wettelijke norm voor NO₂ is een jaargemiddelde van 40 microgram per kubieke meter (µg/m³). Het overschrijden van deze norm kan schadelijk zijn voor de gezondheid, aangezien NO₂ de luchtwegen kan irriteren en kan bijdragen aan ademhalingsproblemen.<br><br>Het is belangrijk om te benadrukken dat continue monitoring van NO₂-concentraties essentieel is voor het beheer van de luchtkwaliteit en het nemen van passende maatregelen om de volksgezondheid te beschermen. Dit omvat het implementeren van strategieën om de uitstoot van NO₂ te verminderen, zoals het bevorderen van schoon vervoer en het verbeteren van energie-efficiëntie.",legendaValues:["0 - 13,3","13,3 - 26,7","26,7 - 40","40+"],concentrationValues:["0 - 40 |","| 40+"]}},bbox:[[4.530349136078828,52.318391751344556],[4.477649435150919,52.3325109475691],[4.463333678453957,52.31258112141915],[4.443289089022825,52.28622216541519],[4.420523652246554,52.258084597771266],[4.390975591825236,52.2252436884468],[4.360001773313133,52.19267739561912],[4.332639617081235,52.16843668342226],[4.309982126725519,52.15025478335205],[4.286909004725673,52.13271463169353],[4.272343135771709,52.12439881316465],[4.255258183750066,52.112781802080775],[4.243142798920134,52.11062556611985],[4.237587550534484,52.10430469357012],[4.238716740765287,52.099980057060996],[4.218679123560593,52.08515131491692],[4.191225634560341,52.06624805812217],[4.143633541132101,52.031762061643256],[4.119965275668987,52.010655035264875],[4.110164075952055,52.00443650358243],[4.032776826481481,52.00357126840691],[3.953130875831723,51.989143545882094],[3.940749522930178,51.92157113932443],[3.972617445119628,51.91096495541639],[3.953146821582932,51.85003185556174],[3.860366796888851,51.82836360680059],[3.773675345120739,51.78152047827928],[3.826212601617969,51.76584104908726],[3.847428190422098,51.753401013307496],[3.875894347575438,51.74769206834318],[3.886170625148267,51.749358498461945],[3.895058288034212,51.757413070890614],[3.905056993652677,51.764634424348685],[3.921443465451191,51.7707447757055],[3.940329676967149,51.77379994756514],[3.958938003821501,51.7721334379117],[3.974491327492642,51.763800986923876],[4.013336251592613,51.75901184031234],[4.018884952763965,51.74271775651076],[4.026258155388192,51.738308838897595],[4.035037756891573,51.73019358885665],[4.036426413945584,51.7204725023359],[4.036703941868457,51.71102922210167],[4.040036764965278,51.70269680358439],[4.047813346447605,51.69436440796382],[4.060589197708782,51.69297567072898],[4.073642956165345,51.692697877930414],[4.098083805142525,51.69047587207374],[4.110026492030307,51.68714291038097],[4.12308012746156,51.68575409917286],[4.151824517744555,51.6852331246949],[4.193764111549875,51.664399273963866],[4.202700613267779,51.66076431504651],[4.24278620235967,51.64706300245339],[4.251103468055376,51.64556192115882],[4.275002699967218,51.64377788724585],[4.29938869932287,51.64751289468004],[4.311261828540295,51.650741901847574],[4.326247467500945,51.65257764565784],[4.344774981528201,51.65692408513141],[4.354343173413529,51.660065211230275],[4.365037770928944,51.66459072324186],[4.372196180799947,51.669606000004876],[4.378843411237821,51.67816713027353],[4.379431108082708,51.68359155460875],[4.393621155328043,51.693296221977775],[4.423549727577673,51.70947484191258],[4.469588241992522,51.69960603919557],[4.488801355864144,51.69511666678298],[4.500430780670438,51.6929041158782],[4.51491726904814,51.69247356033833],[4.530432821916656,51.693442028946734],[4.55492964570388,51.69685465527705],[4.589299877697371,51.7033230937637],[4.597493395646077,51.70550896916201],[4.617063042363954,51.713450544698794],[4.644595770204292,51.718974811108936],[4.675222591695757,51.724209390396105],[4.681597589101821,51.728418728028295],[4.693262894328346,51.732281626147035],[4.703745677747655,51.73692747186531],[4.717281335345219,51.743819054640845],[4.729445324524703,51.75071035406708],[4.740769999835573,51.758818207112746],[4.744788205733936,51.7634874316461],[4.750568881008354,51.77576150556164],[4.755239671168641,51.781611405533646],[4.765433700203817,51.78936310642583],[4.773539017784451,51.79332433578956],[4.797194138180015,51.79976996464425],[4.806875681322382,51.80033628648609],[4.828872220684182,51.79802061246265],[4.845984335976476,51.79875695585519],[4.854413462728822,51.80068312837893],[4.86580980773983,51.80561250959034],[4.876054107785814,51.811882710155366],[4.889400948115376,51.81889501534335],[4.911273500720915,51.82598178104969],[4.92272846876006,51.8280724794592],[4.931144189957587,51.82852919069758],[4.962615689463013,51.82476421124339],[4.98775692375039,51.821059363558135],[5.007952830973057,51.82103533743587],[5.026351766763361,51.81885673991695],[5.031415001585676,51.84108480241829],[5.014632048827401,51.842153800914836],[4.999296319520619,51.84459988083369],[4.999886722091667,51.84845160737416],[4.995398980114892,51.86187430484156],[5.004435546251411,51.85802625656456],[5.018359609923226,51.85913553479456],[5.026907960578829,51.85860771503385],[5.027439958692121,51.863597248826096],[5.021760322682572,51.868981300888684],[5.02283873357331,51.874364765241744],[5.026955908456512,51.881918205092965],[4.996796928079284,51.87355233992032],[4.995511269578138,51.878787017093664],[4.999452273459163,51.884283506417155],[4.996325002755855,51.89075793725379],[4.994968055710085,51.90229233350237],[4.974354975055692,51.897093107548685],[4.973693745746805,51.90770041460399],[4.964128182781912,51.91063800234269],[4.964785223739406,51.91351896096517],[4.956157452716008,51.91559106386883],[4.949494329360374,51.931653134466124],[4.946256661011139,51.93340047164854],[4.939235057525854,51.928938071445],[4.932615468529439,51.946662913904014],[4.926301291212212,51.95092794425962],[4.9213284709492,51.94626599088542],[4.914011340842761,51.942435937938974],[4.885109973229776,51.9385867153585],[4.877792920155559,51.938030675583256],[4.871222881982626,51.95464349499807],[4.865804504270616,51.960416098775],[4.860936485293185,51.96747556746799],[4.847980799128909,51.97491978791664],[4.84548555625166,51.97524156929471],[4.835217848184357,51.98614302050802],[4.817805905521922,51.99976688905379],[4.85333679546641,52.00474740402132],[4.857126556382675,52.00595950798789],[4.846875280926625,52.01816473409551],[4.833334776270465,52.01642293447143],[4.824994256849447,52.01723660891757],[4.815616228006629,52.01398072649241],[4.803523202820709,52.01395615945562],[4.799116130884322,52.02225461610661],[4.809933419604729,52.02676451715632],[4.807059607462207,52.03272023913913],[4.811882949636798,52.033847620035154],[4.818878121674874,52.03823642182798],[4.829490283666744,52.04981340023966],[4.848104236447211,52.05818225116237],[4.855970528981302,52.0590649090276],[4.867858338946186,52.06305408882084],[4.873076075892896,52.068603394249415],[4.865747190313801,52.06904653131876],[4.8421902166226,52.06900483312103],[4.830017486955993,52.06718563152524],[4.833969359758169,52.07275576383943],[4.832994402322323,52.07482877593682],[4.826275687671352,52.07464357557838],[4.823347903181704,52.09336852616915],[4.823055886140577,52.105192804673514],[4.825314741101428,52.1071510893818],[4.792080179629929,52.122287379380644],[4.798341616835121,52.12529872571628],[4.801980656694714,52.12485754386925],[4.808071186314123,52.12911240858894],[4.807619034690235,52.135223575784266],[4.809959864846991,52.138432320496776],[4.816914028695082,52.13946798265948],[4.820494630237897,52.142216357014],[4.826005484226454,52.142141567496544],[4.833066721075937,52.14469962306091],[4.842529898875489,52.13955428315217],[4.851478612064766,52.139674402617125],[4.855238666869632,52.13720961848716],[4.864915049596963,52.13739112288686],[4.874518480819271,52.13883141526054],[4.873623464337562,52.156082509353375],[4.892272620186264,52.16159275913217],[4.855581828673365,52.17891717529039],[4.843809150667937,52.18018883865847],[4.836157868412177,52.184642943133476],[4.833319470273204,52.1876163115618],[4.826358958618621,52.191244052678556],[4.822119532602952,52.19616958769664],[4.814273512355591,52.19941365632746],[4.811751546474733,52.20173647048041],[4.802925127414565,52.20102775709672],[4.80166679702074,52.203836817191174],[4.802149664101766,52.21763360257282],[4.797002861236837,52.22034806059187],[4.794575697702013,52.226730665167196],[4.784016716460862,52.22873699643624],[4.776739083536055,52.227504049328175],[4.774603194497423,52.224546685500336],[4.763131473998422,52.21859509696758],[4.753773192964307,52.217541283084536],[4.747732354645978,52.21481778073733],[4.743478850941085,52.214724592521996],[4.734338950846067,52.20651642029413],[4.724460544176446,52.21275144517131],[4.722923949591383,52.220977370451564],[4.724319568652291,52.2319628711622],[4.703714236241249,52.233789191375784],[4.696244105624449,52.232109272883555],[4.687309399984841,52.227104732877784],[4.676699023394591,52.22592552023059],[4.670348087144909,52.23075578542271],[4.665317656294996,52.227685646394164],[4.657668520276009,52.22582986994412],[4.646609870565436,52.22096972775805],[4.631977434767174,52.21604641129693],[4.618149752974739,52.21446840526382],[4.60170749576742,52.21465105841265],[4.584354170259228,52.21876500013502],[4.571938232487518,52.216971837241836],[4.556400115356346,52.21947658988215],[4.55089931096257,52.22547070588928],[4.553624982871213,52.230932974593635],[4.562997743445019,52.23492021288823],[4.567550690336217,52.24921595223059],[4.569500994159953,52.25957268083336],[4.568707101570385,52.268850849758216],[4.587999815216229,52.28013554201403],[4.591486793771011,52.28616813024809],[4.59588382109373,52.291122484361225],[4.59708725799886,52.296084175667104],[4.603904003325471,52.30535727981184],[4.611107831211194,52.31160739190843],[4.611676039331039,52.31355991255957],[4.598495776516575,52.317354024617686],[4.583272456107068,52.31839504978773],[4.57324055818885,52.315355519966744],[4.56895506345759,52.31651256390584],[4.563707432469421,52.30929800806595],[4.530349136078828,52.318391751344556]]};var Ht={name:"SamenMetenDashboard",data(){return Bt},computed:{dayNames(){return Array.from({length:30},((e,t)=>{const a=new Date;return a.setDate(a.getDate()-t),this.formatDate(a)}))},buttonClass(){return this.isPlaying?"btn-outline-danger":"btn-outline-primary"},formattedProperty(){const e={pm25:"PM2,5",pm10:"PM10",no2:"NO2"};return e[this.property]||this.property}},watch:{selectedDay(e){this.dayNames.includes(e)&&this.updateLayer()}},created(){this.STYLE_URL=`https://api.maptiler.com/maps/outdoor/style.json?key=${this.API_KEY}`,this.checkHourChange()},async mounted(){this.initializeMap(),this.addControls(),this.elements=this.ids.reduce(((e,t)=>(e[t]=this.$refs[t],e)),{}),this.geojson=await this.fetchData("https://dta-samenmeten-api.azurewebsites.net/api/data/stations"),[this.regios,this.gemeentes,this.stName]=await Promise.all([this.getUniqueItems(this.geojson,"regio"),this.getUniqueItems(this.geojson,"Gemeente"),this.getUniqueItems(this.geojson,"station_name")]),this.createCheckboxes("regio",this.regios),this.createCheckboxes("Gemeente",this.gemeentes),this.createCheckboxes("station_name",this.stName),this.selectedDay=this.dayNames[0],this.updateLayer()},methods:{async initializeMap(){this.map=new window.maplibregl.Map({container:"map",style:this.STYLE_URL,center:[4.218788,52.008663],zoom:9.2}),this.map.on("load",(()=>{this.addLineSourceAndLayer()}))},async addLineSourceAndLayer(){this.map.getSource("line")||this.map.addSource("line",{type:"geojson",data:{type:"Feature",geometry:{type:"LineString",coordinates:this.bbox}}}),this.map.getLayer("line")||this.map.addLayer({id:"line",type:"line",source:"line",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#ff0000","line-width":1.4,"line-opacity":.8,"line-blur":.5}})},async addControls(){this.addStyleSwitchControl(),this.map.addControl(new window.maplibregl.FullscreenControl),this.map.addControl(new window.maplibregl.NavigationControl),this.map.addControl(new window.maplibregl.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0}))},addStyleSwitchControl(){const e=this.createStyleSwitcher(),t=this.createStyleSwitchControl(e);this.map.addControl(t)},createStyleSwitcher(){const e=document.createElement("div");e.className="maplibregl-ctrl maplibregl-ctrl-group";const t=document.createElement("label");t.className="fw-semibold text-success",t.innerText="Selecteer achtergrond:",e.appendChild(t);const a=document.createElement("select");a.className="form-select form-select-sm",a.style.fontSize="1.2em",a.style.cursor="pointer";const n=this.STYLE_URLS.map((e=>`${e}${this.API_KEY}`));return n.forEach(((e,t)=>{const n=document.createElement("option");n.value=e,n.text=this.STYLE_NAMES[t]||`Style ${t+1}`,a.appendChild(n)})),a.onchange=async e=>{try{this.map.setStyle(e.target.value),setTimeout((()=>{this.addLineSourceAndLayer(),this.updateLayer()}),50)}catch(t){console.error("An error occurred while switching styles:",t)}},e.appendChild(a),e},createStyleSwitchControl(e){return{onAdd:()=>e,onRemove:function(){},getDefaultPosition:function(){return"top-right"}}},async reloadPage(){window.location.reload()},clearInput(e){this.$refs[e].value="","sDate"===e?this.selectedDay="":this.updateLayer()},async checkHourChange(){setInterval((async()=>{this.updateLayer()}),18e5)},toggleSlider(){this.isPlaying?this.stopSlider():this.startSlider(),this.isPlaying=!this.isPlaying},async startSlider(){this.interval&&clearInterval(this.interval),this.timeValue=0,this.updateLayer(),this.interval=setInterval((()=>{this.timeValue<(new Date).getHours()?this.timeValue++:(clearInterval(this.interval),this.interval=null,this.isPlaying=!1),this.updateLayer()}),1750)},async stopSlider(){this.interval&&(clearInterval(this.interval),this.interval=null)},async selectMatchingStations(){const e=this.search.toLowerCase();this.station_name.forEach((t=>{t.checked=t.label.toLowerCase()===e})),this.updateLayer()},async toggleSidebar(){this.isCollapsed=!this.isCollapsed;const e={sidebar:this.isCollapsed?0:300};this.map.easeTo({padding:e,duration:800})},async fetchData(e){let t=await fetch(e,{method:"GET",credentials:"include",keepalive:!0});return await t.json()},async loadLocalFile(){try{let e=JSON.parse(await this.elements.localFile.files[0].text());return e.Features=e.features,delete e.features,e}catch(e){throw console.error("Error reading local file:",e),e}},async getUniqueItems(e,t){return[...new Set(e.Features.map((e=>e.properties?.[t])))]},async createCheckboxes(e,t){const a=this[e]?this[e].filter((e=>e.checked)).map((e=>e.id)):[];this[e]=t.sort().map((e=>({id:e,label:e,checked:a.includes(e)})))},async getSelectedValues(e){return Array.from(document.querySelectorAll(`input[name="${e}"]:checked`)).map((e=>e.value))},async updateLayer(){const e=this.propValues[this.elements.property.value]||this.propValues.default;this.property=e.property,this.description=e.description,this.legendaValues=e.legendaValues,this.concentrationValues=e.concentrationValues;const t=await this.getSelectedValues("regio"),a=await this.getSelectedValues("Gemeente"),n=await this.getSelectedValues("station_name");this.reloadLayer(this.map,this.elements.timeSlider.value,t,a,n).catch((e=>console.error("Error reloading layer:",e)))},formatDate(e){const t=this.days[e.getDay()],a=e.toLocaleDateString("nl-NL",{day:"numeric",month:"long",year:"numeric"});return`${t} | ${a}`},async reloadLayer(e,t,a,n,i){try{const{files:o=[]}=this.$refs.localFile||{};this.isLocalFile=o.length>0,this.isFrom=this.isLocalFile?"De gegevens zijn afkomstig van jouw Local File":'De gegevens zijn afkomstig van <a href="https://api-samenmeten.rivm.nl/v1.0/Things" target="_blank" class="link-success link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover fw-semibold">onze metadata. Bekijk de metadata voor details over de serverdata.</a>';const s=this.dayNames.indexOf(this.elements.sDate.value);await this.filterGeojsonFeatures(t,s,this.elements.property.value,a,n,i,this.isLocalFile),this.updateMapSourceAndLayer(e,this.geojson)}catch(o){console.error(o)}},async filterGeojsonFeatures(e,t,a,n,i,o,s){const r=new Date;r.setDate(r.getDate()-t);const l=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),parseInt(e)+r.getTimezoneOffset()/60)),d=l.toISOString().replace("T","%20").substring(0,19)+"00";"activate"===this.interpolationStatus?this.idw_interpolation(l):this.currentLayerId&&this.map.getLayer(this.currentLayerId)&&this.map.setPaintProperty(this.currentLayerId,"raster-opacity",0);const c={property:a,station:o.length>0?o:[],gemeente:o.length>0?[]:i.length>0?i:[],regio:o.length>0||i.length>0?[]:n.length>0?n:[]};let p;if(s)p=await this.loadLocalFile(s);else{let e=new URL("https://dta-samenmeten-api.azurewebsites.net/api/data/stations");Object.entries(c).forEach((([t,a])=>{a&&a.length>0&&e.searchParams.append(t,a)}));let t=new URL(`https://dta-samenmeten-api.azurewebsites.net/api/data/observations?property=${a}&measured_time=${d}`),[n,i]=await Promise.all([this.fetchData(e.toString()),this.fetchData(t.toString())]),o=new Map;i.Features.forEach((e=>{o.set(e.properties.station_name,e)})),p={type:"FeatureCollection",Features:n.Features.filter((e=>{let t=o.get(e.properties.station_name);return!!t&&(t.properties.avg_value=e.properties.avg_value,t.properties.max_value=e.properties.max_value,t.properties.min_value=e.properties.min_value,e.properties={...t.properties},e.geometry=t.geometry,!0)}))}}this.geojson=p,[this.regios,this.gemeentes,this.stName]=await Promise.all([this.getUniqueItems(this.geojson,"regio"),this.getUniqueItems(this.geojson,"Gemeente"),this.getUniqueItems(this.geojson,"station_name")]),this.createCheckboxes("regio",this.regios),this.createCheckboxes("Gemeente",this.gemeentes),this.createCheckboxes("station_name",this.stName)},async handleClick(){if(this.geojson){this.downloadGeoJSON(this.geojson);const e=this.$refs.liveToast,t=window.bootstrap.Toast.getOrCreateInstance(e),a=new Date;this.timeString=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),t.show()}else console.error("GeoJSON data is not yet available.")},async idw_interpolation(e){console.log(e);let t=[3.773675345120739,51.64377788724585,5.031415001585676,52.3325109475691],a=e.toISOString().substring(0,10),n="interpolatie"+a+"-"+this.elements.timeSlider.value;if(this.rasterLayers.add(n),this.rasterLayers.forEach((e=>{this.map.getLayer(e)&&this.map.setPaintProperty(e,"raster-opacity",e===n?1:0)})),this.currentLayerId=n,!this.map.getLayer(n)){let e=`https://geodata.zuid-holland.nl/geoserver/milieu/wms?service=WMS&version=1.1.0&request=GetMap&layers=milieu%3Aluchtkwaliteit_db&bbox=${t.join(",")}&width=768&height=420&srs=EPSG%3A4326&time=2023-12-07T${this.elements.timeSlider.value}:00:00.000Z&format=image/png&transparent=true&styles=luchtkwaliteit_interpolatie_alt`;console.log(e),this.map.addSource(n,{type:"image",url:e,coordinates:[[t[0],t[3]],[t[2],t[3]],[t[2],t[1]],[t[0],t[1]]]}),this.map.addLayer({id:n,type:"raster",source:n,paint:{"raster-opacity":1}})}},async downloadGeoJSON(e){let t=JSON.stringify(e),a="data:application/json;charset=utf-8,"+encodeURIComponent(t),n=document.createElement("a");n.href=a,n.download="Provincie Zuid-Holland Luchtkwaliteit.geojson",document.body.appendChild(n),n.click(),document.body.removeChild(n)},updateMapSourceAndLayer(e,t){t&&t.Features&&(t.features=t.Features,delete t.Features,e.getSource("stations")?e.getSource("stations").setData(t):e.addSource("stations",{type:"geojson",data:t}),e.getLayer("stations")||this.addStationsLayer())},getCircleColor(){return["case",["==",["get","property"],"pm25"],["step",["get","value"],"#1E90FF",8.3,"#48D1CC",16.7,"#9ACD32",25,"#DAA520",1/0,"#000000"],["in",["get","property"],["literal",["no2","pm10"]]],["step",["get","value"],"#1E90FF",13.3,"#48D1CC",26.6,"#9ACD32",40,"#DAA520",1/0,"#000000"],"#000000"]},addStationsLayer(){this.map.addLayer({id:"stations",type:"circle",source:"stations",paint:{"circle-radius":7,"circle-color":this.getCircleColor(),"circle-stroke-color":"#ffffff","circle-stroke-width":2}}),this.map.on("click","stations",this.handleStationClick)},async handleStationClick(e){const t=this.map.queryRenderedFeatures(e.point,{layers:["stations"]});t.length>1?this.createDropdownPopup(t,e):this.createDetailPopup(e.features[0],e)},async createDropdownPopup(e,t){let a='\n    <div class="card text-center border-primary">\n      <div class="card-header bg-primary text-white">\n        <h6>Selecteer Station <i class="bi bi-search"></i></h6>\n      </div>\n      <div class="card-body">\n        <div class="dropdown">\n          <button class="btn btn-outline-primary dropdown-toggle" type="button" id="stationSelect" data-bs-toggle="dropdown" aria-expanded="false">\n            Kies een station\n          </button>\n          <div class="dropdown-menu" aria-labelledby="stationSelect" style="height: 200px; overflow-y: auto;">\n            ';e.forEach(((e,t)=>{const n=this.getColor(e.properties.value,e.properties.property,1);a+=`\n              <a class="dropdown-item" href="#" data-value="${t}">\n                <i class="bi bi-geo-alt-fill" style="color: ${n};"></i> ${e.properties.station_name}\n              </a>`})),a+="\n          </div>\n        </div>\n      </div>\n    </div>\n  ";const n=new window.maplibregl.Popup({className:"my-popup"}).setLngLat(t.lngLat).setHTML(a).addTo(this.map);this.$nextTick((()=>{const a=Array.from(n.getElement().querySelectorAll(".dropdown-item"));a.forEach((a=>{a.addEventListener("click",(a=>{a.preventDefault(),n.remove(),this.createDetailPopup(e[a.target.dataset.value],t)}))}))}))},async createDetailPopup(e,t){const{properties:a}=e;this.properties=a;const n=new window.maplibregl.Popup({className:"my-popup"}).setLngLat(t.lngLat).setHTML(this.getPopupHTML(a)).addTo(this.map);this.$nextTick((()=>{const e=n.getElement().querySelector("button");e.addEventListener("click",(async()=>{e.innerHTML='<span class="spinner-border spinner-border-sm" aria-hidden="true"></span><span role="status">Loading...</span>';try{await this.loadChart(a)}finally{e.innerHTML="Informatie over station",n.remove()}}))}))},getPopupHTML({station_name:e,property:t,value:a,unit:n,Gemeente:i,regio:o,measured_time:s}){const r=new Date(s).toLocaleString("nl-NL",{timeZone:"GMT",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),l=this.getColor(a,t,1);return`\n  <div class="card text-center" style="border-color: ${l};">\n    <div class="card-header" style="background-color: ${l}; color: white;">\n      <h6>Station naam: ${e}</h6>\n    </div>\n    <div class="card-body">\n      <h6 class="card-title">Component en meetwaarde:<br>${t}: ${a} ${n}</h6>\n      <h6>Beschrijving:<br>Gemeente ${i} - Regio ${o}</h6>\n      <h6 class="card-text">\n        <small class="text-muted">Laatst update: ${r}</small>\n      </h6>\n<button class="btn mt-3" type="button" data-bs-toggle="modal" data-bs-target="#modalWithBothOptions" style="background-color: ${l}; color: white;" data-properties='${JSON.stringify({station_name:e,property:t,value:a,unit:n,Gemeente:i,regio:o,measured_time:s})}'>        Informatie over station\n      </button>\n    </div>\n  </div>`},async loadChart(e){try{const t=new URL(`https://dta-samenmeten-api.azurewebsites.net/api/data/observations?station=${e.station_name}&property=${e.property}&location=${e.location_uuid}`);console.log(t),console.log(e);const a=await this.fetchData(t.toString()),n=this.processData(a),i=this.createDatasets(e.property,n);this.$nextTick((()=>{this.myChart instanceof window.Chart&&this.$refs.myChart&&this.myChart.destroy(),this.$refs.myChart&&(this.myChart=this.createChart(this.$refs.myChart,e.property,n,i))}))}catch(t){console.error(`An error occurred while loading the chart: ${t}`)}},processData(e){return e.Features.reduce(((e,t)=>{let a=new Date(t.properties.measured_time),n=a.toISOString().split("T")[0],i=a.getUTCHours();return e[n]||(e[n]={times:Array.from({length:24},((e,t)=>t<10?`0${t}:00 GMT`:`${t}:00 GMT`)),values:Array(24).fill(null)}),e[n].values[i]=t.properties.value,e}),{})},createDatasets(e,t){const a=Object.entries(t).map((([t,a])=>{const n=a.values,i=n.map((t=>this.getColor(t,e,"0.4"))),o=new Date(t),s=this.dayColors[o.getDay()];return{label:o.toLocaleDateString("nl-NL",{weekday:"long",year:"numeric",month:"2-digit",day:"2-digit"}),dateString:t,data:n,originalBackgroundColor:[...i],backgroundColor:i,borderColor:s,borderWidth:2,borderRadius:{topLeft:3,topRight:3},hidden:!0}}));return a.sort(((e,t)=>new Date(e.dateString)-new Date(t.dateString))),a.length>0&&(a[a.length-1].hidden=!1),a},createChart(e,t,a,n){const i="pm25"===t?25:40;return this.myChart=new window.Chart(e,{type:"bar",data:{labels:a[Object.keys(a)[0]].times,datasets:n},options:{...this.chartOptions,plugins:{...this.chartOptions.plugins,annotation:{annotations:[{type:"box",yMin:i,backgroundColor:"rgba(230, 25, 75, 0.1)",borderColor:"rgba(230, 25, 75, 1)",label:{content:"Bad",enabled:!0,position:"center"}}]},legend:{display:!0,onHover:(e,t,a)=>this.handleHover(e,t,a),onLeave:(e,t,a)=>this.handleLeave(e,t,a)}}}}),this.myChart},async handleHover(e,t,a){a.chart.data.datasets.forEach(((e,a)=>{e.backgroundColor=a===t.datasetIndex?e.originalBackgroundColor.map((e=>{let t=e.slice(0,-1).split(",");return t[3]="0.8)",t.join(",")})):e.originalBackgroundColor.map((e=>{let t=e.slice(0,-1).split(",");return t[3]="0.1)",t.join(",")}))})),a.chart.update()},async handleLeave(e,t,a){a.chart.data.datasets.forEach((e=>{e.backgroundColor=e.originalBackgroundColor})),a.chart.update()},getColor(e,t,a){const n="pm25"===t?[8.3,16.7,25,1/0]:[13.3,26.6,40,1/0],i=["rgba(30, 144, 255,","rgba(72, 209, 204,","rgba(154, 205, 50,","rgba(218, 165, 32,"],o=n.findIndex((t=>e<t)),s=void 0!==i[o]?i[o]:i[i.length-1];return`${s}${a})`}}},Et=a(3744);const Nt=(0,Et.Z)(Ht,[["render",Ft],["__scopeId","data-v-488711f3"]]);var Ut=Nt,Vt={name:"App",components:{SamenMetenDashboard:Ut}};const Rt=(0,Et.Z)(Vt,[["render",o]]);var Wt=Rt;(0,n.ri)(Wt).mount("#app")},1244:function(e,t,a){e.exports=a.p+"img/PZH-logo.c1b0c7ee.png"},3865:function(e,t,a){e.exports=a.p+"img/doc-logo.901ec909.png"},2747:function(e){e.exports="data:image/png;base64,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"}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,n,i,o){if(!n){var s=1/0;for(c=0;c<e.length;c++){n=e[c][0],i=e[c][1],o=e[c][2];for(var r=!0,l=0;l<n.length;l++)(!1&o||s>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[l])}))?n.splice(l--,1):(r=!1,o<s&&(s=o));if(r){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,i,o]}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,o,s=n[0],r=n[1],l=n[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(l)var c=l(a)}for(t&&t(n);d<s.length;d++)o=s[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},n=self["webpackChunksamenmetenv2"]=self["webpackChunksamenmetenv2"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(4097)}));n=a.O(n)})();
//# sourceMappingURL=app.5d60326e.js.map